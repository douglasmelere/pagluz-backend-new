import { PrismaService } from "../../config/prisma.service";
import { CreateConsumerDto } from "./dto/create-consumer.dto";
import { UpdateConsumerDto } from "./dto/update-consumer.dto";
import { Prisma } from "@prisma/client";
import { ConsumerStatus, ConsumerApprovalStatus } from "../../common/enums";
import { AuditService } from "../../common/services/audit.service";
import { CommissionsService } from "../commissions/commissions.service";
import { SupabaseStorageService } from "../../common/services/supabase-storage.service";
import { OcrService } from "../../common/services/ocr.service";
import { ConsumerChangeRequestsService } from "./consumer-change-requests.service";
export declare class ConsumersService {
    private prisma;
    private auditService;
    private commissionsService;
    private supabaseStorage;
    private ocrService;
    private changeRequestsService;
    constructor(prisma: PrismaService, auditService: AuditService, commissionsService: CommissionsService, supabaseStorage: SupabaseStorageService, ocrService: OcrService, changeRequestsService: ConsumerChangeRequestsService);
    create(createConsumerDto: CreateConsumerDto): Promise<{
        generator: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            cpfCnpj: string;
            concessionaire: string;
            ucNumber: string;
            city: string;
            state: string;
            observations: string | null;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    createAsRepresentative(createConsumerDto: CreateConsumerDto, representativeId: string): Promise<any>;
    findAll(): Promise<({
        generator: {
            id: string;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    })[]>;
    findOne(id: string): Promise<{
        generator: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            cpfCnpj: string;
            concessionaire: string;
            ucNumber: string;
            city: string;
            state: string;
            observations: string | null;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    findByCpfCnpj(cpfCnpj: string): Promise<({
        generator: {
            id: string;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    })[]>;
    findByRepresentative(representativeId: string): Promise<({
        generator: {
            id: string;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
        Representative: {
            email: string;
            name: string;
            id: string;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    })[]>;
    update(id: string, updateConsumerDto: UpdateConsumerDto): Promise<{
        generator: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            cpfCnpj: string;
            concessionaire: string;
            ucNumber: string;
            city: string;
            state: string;
            observations: string | null;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    remove(id: string): Promise<{
        message: string;
    }>;
    allocateToGenerator(consumerId: string, generatorId: string, percentage: number): Promise<{
        generator: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            cpfCnpj: string;
            concessionaire: string;
            ucNumber: string;
            city: string;
            state: string;
            observations: string | null;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    deallocate(consumerId: string): Promise<{
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    approveConsumer(consumerId: string, approverUserId?: string): Promise<{
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    rejectConsumer(consumerId: string, approverUserId: string, reason?: string): Promise<{
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    getByState(state: string): Promise<({
        generator: {
            id: string;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    })[]>;
    findPending(filters: {
        state?: string;
        city?: string;
        representativeId?: string;
        startDate?: string;
        endDate?: string;
        page?: number;
        limit?: number;
    }): Promise<{
        consumers: ({
            Representative: {
                email: string;
                name: string;
                id: string;
            } | null;
        } & {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            totalPages: number;
            hasNext: boolean;
            hasPrev: boolean;
        };
    }>;
    getStatistics(): Promise<{
        total: number;
        allocated: number;
        available: number;
        allocationRate: number;
        totalMonthlyConsumption: number;
        distributionByState: (Prisma.PickEnumerable<Prisma.ConsumerGroupByOutputType, "state"[]> & {
            _count: {
                id: number;
            };
        })[];
    }>;
    findRepresentativeConsumer(representativeId: string, consumerId: string): Promise<({
        generator: {
            id: string;
            concessionaire: string;
            city: string;
            state: string;
            status: import(".prisma/client").$Enums.GeneratorStatus;
            ownerName: string;
            sourceType: import(".prisma/client").$Enums.SourceType;
            installedPower: number;
        } | null;
        Representative: {
            email: string;
            name: string;
            id: string;
        } | null;
    } & {
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }) | null>;
    findRepresentativeConsumersWithFilters(representativeId: string, filters: {
        status?: ConsumerStatus;
        approvalStatus?: ConsumerApprovalStatus;
        consumerType?: string;
        state?: string;
        city?: string;
        startDate?: string;
        endDate?: string;
        page?: number;
        limit?: number;
    }): Promise<{
        consumers: ({
            generator: {
                id: string;
                city: string;
                state: string;
                status: import(".prisma/client").$Enums.GeneratorStatus;
                ownerName: string;
                sourceType: import(".prisma/client").$Enums.SourceType;
                installedPower: number;
            } | null;
        } & {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        })[];
        pagination: {
            page: number;
            limit: number;
            total: number;
            totalPages: number;
            hasNext: boolean;
            hasPrev: boolean;
        };
        stats: {
            totalConsumers: number;
            totalKwh: number;
            allocatedKwh: number;
            pendingKwh: number;
            statusBreakdown: {
                available: number;
                allocated: number;
                inProcess: number;
                converted: number;
            };
        };
    }>;
    updateRepresentativeConsumerWithApproval(representativeId: string, consumerId: string, updateData: Partial<UpdateConsumerDto>): Promise<{
        consumer: {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        };
        changeRequest: any;
        message: string;
        updatedFields: {
            direct: string[];
            pending: string[];
        };
    }>;
    updateRepresentativeConsumer(representativeId: string, consumerId: string, updateData: Partial<UpdateConsumerDto>): Promise<{
        consumer: {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        };
        changeRequest: any;
        message: string;
        updatedFields: {
            direct: string[];
            pending: string[];
        };
    }>;
    getRepresentativeConsumerStats(representativeId: string): Promise<{
        totalConsumers: number;
        totalKwh: number;
        allocatedKwh: number;
        pendingKwh: number;
        allocationRate: number;
        averageDiscount: number;
        statusBreakdown: {
            available: number;
            allocated: number;
            inProcess: number;
            converted: number;
        };
        typeBreakdown: {};
        stateBreakdown: {};
        monthlyEvolution: never[];
    } | {
        totalConsumers: number;
        totalKwh: number;
        allocatedKwh: number;
        pendingKwh: number;
        allocationRate: number;
        averageDiscount: number;
        statusBreakdown: {};
        typeBreakdown: {};
        stateBreakdown: {};
        monthlyEvolution: {
            month: string;
            count: number;
            kwh: number;
        }[];
    }>;
    generateCommissionsForApprovedConsumers(): Promise<{
        totalProcessed: number;
        successful: number;
        errors: number;
        results: {
            consumerId: string;
            consumerName: string;
            representativeId: string | null;
            representativeName: string | undefined;
            commissionValue?: number;
            status: "SUCCESS" | "ERROR";
            error?: string;
        }[];
    }>;
    generateCommissionsForApprovedConsumersWithoutAllocation(): Promise<{
        totalProcessed: number;
        successful: number;
        errors: number;
        results: {
            consumerId: string;
            consumerName: string;
            representativeId: string | null;
            representativeName: string | undefined;
            commissionValue?: number;
            status: "SUCCESS" | "ERROR";
            error?: string;
        }[];
    }>;
    debugEligibleConsumers(): Promise<{
        summary: {
            totalConsumers: number;
            approvedConsumers: number;
            approvedWithRepresentative: number;
            approvedWithRepresentativeAndAllocated: number;
            withCommission: number;
            eligibleForCommission: number;
        };
        eligibleConsumers: {
            id: string;
            name: string;
            cpfCnpj: string;
            averageMonthlyConsumption: number;
            representative: {
                email: string;
                name: string;
                id: string;
            } | null;
            generator: {
                id: string;
                ownerName: string;
            } | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            approvedAt: Date | null;
        }[];
    }>;
    getConsumerActivityHistory(representativeId: string, consumerId: string): Promise<{
        consumer: {
            id: string;
            name: string;
            cpfCnpj: string;
            status: import(".prisma/client").$Enums.ConsumerStatus;
        };
        activities: {
            id: string;
            action: string;
            description: string;
            icon: string;
            color: string;
            timestamp: Date;
            user: {
                id: string;
                name: string | null;
                email: string;
                role: import(".prisma/client").$Enums.UserRole;
            } | null;
            oldValues: Prisma.JsonValue;
            newValues: Prisma.JsonValue;
            metadata: Prisma.JsonValue;
            ipAddress: string | null;
        }[];
        totalActivities: number;
    }>;
    createTestConsumer(): Promise<{
        message: string;
        consumer: {
            Representative: {
                email: string;
                name: string;
                id: string;
            } | null;
        } & {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        };
    }>;
    generateCommissionForConsumer(consumerId: string): Promise<{
        totalProcessed: number;
        successful: number;
        errors: number;
        results: {
            consumerId: string;
            consumerName: string;
            representativeId: string | null;
            representativeName: string;
            commissionValue: number;
            status: string;
            error: string;
        }[];
    } | {
        totalProcessed: number;
        successful: number;
        errors: number;
        results: {
            consumerId: string;
            consumerName: string;
            representativeId: string | null;
            representativeName: string;
            commissionValue: number;
            status: string;
        }[];
    } | {
        totalProcessed: number;
        successful: number;
        errors: number;
        results: {
            consumerId: string;
            consumerName: string;
            representativeId: null;
            representativeName: string;
            commissionValue: number;
            status: string;
            error: any;
        }[];
    }>;
    uploadInvoice(consumerId: string, representativeId: string, file: Express.Multer.File): Promise<{
        consumer: {
            number: string | null;
            email: string | null;
            name: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            documentType: import(".prisma/client").$Enums.DocumentType | null;
            cpfCnpj: string;
            representativeName: string | null;
            representativeRg: string | null;
            phone: string | null;
            concessionaire: string;
            ucNumber: string;
            consumerType: import(".prisma/client").$Enums.ConsumerType;
            phase: import(".prisma/client").$Enums.PhaseType;
            averageMonthlyConsumption: number;
            discountOffered: number;
            receiveWhatsapp: boolean;
            street: string | null;
            complement: string | null;
            neighborhood: string | null;
            city: string;
            state: string;
            zipCode: string | null;
            birthDate: Date | null;
            observations: string | null;
            arrivalDate: Date | null;
            status: import(".prisma/client").$Enums.ConsumerStatus;
            allocatedPercentage: number | null;
            generatorId: string | null;
            representativeId: string | null;
            approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
            submittedByRepresentativeId: string | null;
            approvedByUserId: string | null;
            approvedAt: Date | null;
            rejectionReason: string | null;
            invoiceUrl: string | null;
            invoiceFileName: string | null;
            invoiceUploadedAt: Date | null;
            invoiceScannedData: Prisma.JsonValue | null;
        };
        invoiceUrl: string;
        invoiceStorageUrl: string;
        invoiceFileName: string;
        scannedData: {
            processing: boolean;
        } | null;
    }>;
    private processOcrAsync;
    removeInvoice(consumerId: string, representativeId: string): Promise<{
        number: string | null;
        email: string | null;
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        documentType: import(".prisma/client").$Enums.DocumentType | null;
        cpfCnpj: string;
        representativeName: string | null;
        representativeRg: string | null;
        phone: string | null;
        concessionaire: string;
        ucNumber: string;
        consumerType: import(".prisma/client").$Enums.ConsumerType;
        phase: import(".prisma/client").$Enums.PhaseType;
        averageMonthlyConsumption: number;
        discountOffered: number;
        receiveWhatsapp: boolean;
        street: string | null;
        complement: string | null;
        neighborhood: string | null;
        city: string;
        state: string;
        zipCode: string | null;
        birthDate: Date | null;
        observations: string | null;
        arrivalDate: Date | null;
        status: import(".prisma/client").$Enums.ConsumerStatus;
        allocatedPercentage: number | null;
        generatorId: string | null;
        representativeId: string | null;
        approvalStatus: import(".prisma/client").$Enums.ConsumerApprovalStatus;
        submittedByRepresentativeId: string | null;
        approvedByUserId: string | null;
        approvedAt: Date | null;
        rejectionReason: string | null;
        invoiceUrl: string | null;
        invoiceFileName: string | null;
        invoiceUploadedAt: Date | null;
        invoiceScannedData: Prisma.JsonValue | null;
    }>;
    downloadInvoice(consumerId: string, representativeId: string, res: any): Promise<void>;
    downloadInvoiceAdmin(consumerId: string, res: any): Promise<void>;
    private getFriendlyInvoiceName;
}
